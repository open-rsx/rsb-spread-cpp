IF(NOT RSBYARP_CONFIG_PROCESSED)
    SET(RSBYARP_CONFIG_PROCESSED TRUE)

    GET_FILENAME_COMPONENT(RSBYARP_CONFIG_DIR "${CMAKE_CURRENT_LIST_FILE}" PATH)

    IF(EXISTS "${RSBYARP_CONFIG_DIR}/CMakeCache.txt")
        INCLUDE("${RSBYARP_CONFIG_DIR}/RSBYARPBuildTreeSettings.cmake")
    ELSE()
        SET(RSBYARP_INCLUDE_DIRS "${RSBYARP_CONFIG_DIR}/../../include/@INSTALL_PATH_PREFIX@")
        SET(RSBYARP_RUNTIME_LIBRARY_DIRS "${RSBYARP_CONFIG_DIR}/../../bin")
    ENDIF()

    SET(RSB_DIR "@RSB_DIR@" CACHE PATH "RSB location")
    FIND_PACKAGE(RSB REQUIRED)
    LIST(APPEND RSBYARP_INCLUDE_DIRS ${RSB_INCLUDE_DIRS})
    LIST(APPEND RSBYARP_LIBRARY_DIRS ${RSB_LIBRARY_DIRS})

    INCLUDE("${RSBYARP_CONFIG_DIR}/RSBYARPDepends.cmake")
    SET(RSBYARP_LIBRARIES @RSBYARP_NAME@)

ENDIF()
